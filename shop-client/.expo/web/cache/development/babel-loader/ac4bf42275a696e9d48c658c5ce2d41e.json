{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { popularProducts } from \"../../data\";\nimport Product from \"./Product\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Products(_ref) {\n  var page = _ref.page,\n      navigation = _ref.navigation,\n      cat = _ref.cat,\n      filters = _ref.filters;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filteredProducts = _useState4[0],\n      setFilteredProducts = _useState4[1];\n\n  console.log(filters);\n  useEffect(function () {\n    console.log(cat);\n\n    var getProducts = function getProducts() {\n      var res;\n      return _regeneratorRuntime.async(function getProducts$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.get(cat ? \"http://localhost:5000/api/products?category=\" + cat : \"http://localhost:5000/api/products\"));\n\n            case 3:\n              res = _context.sent;\n              setProducts(res.data);\n              console.log(res.data);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 8]], Promise);\n    };\n\n    getProducts();\n  }, [cat]);\n  useEffect(function () {\n    cat && setFilteredProducts(products.filter(function (item) {\n      return Object.entries(filters).every(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            value = _ref3[1];\n\n        return item[key].includes(value);\n      });\n    }));\n    console.log(products);\n    console.log(filteredProducts);\n  }, [products, cat, filters]);\n  if (page === \"home\") return _jsx(ScrollView, {\n    horizontal: true,\n    showsHorizontalScrollIndicator: false,\n    style: {\n      marginLeft: 10\n    },\n    children: popularProducts.map(function (item) {\n      return _jsx(Product, {\n        item: item,\n        page: \"home\",\n        navigation: navigation\n      }, item.id);\n    })\n  });else if (page === \"productList\") {\n    return _jsx(ScrollView, {\n      vertical: true,\n      showsVerticalScrollIndicator: false,\n      style: {\n        margin: \"auto\",\n        marginTop: 35\n      },\n      children: popularProducts.map(function (item) {\n        return _jsx(Product, {\n          item: item,\n          page: \"productList\",\n          navigation: navigation\n        }, item.id);\n      })\n    });\n  }\n}","map":{"version":3,"sources":["C:/Users/user/Desktop/ShopMobile/shop-client/components/home/Products.js"],"names":["React","useState","useEffect","popularProducts","Product","axios","Products","page","navigation","cat","filters","products","setProducts","filteredProducts","setFilteredProducts","console","log","getProducts","get","res","data","filter","item","Object","entries","every","key","value","includes","marginLeft","map","id","margin","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { View, Text, SafeAreaView, ScrollView, StyleSheet, Image } from \"react-native\";\r\nimport { popularProducts } from \"../../data\";\r\nimport Product from \"./Product\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Products ({page, navigation, cat, filters}) {\r\n\r\n    const [products, setProducts] = useState([])\r\n\r\n    const [filteredProducts, setFilteredProducts] = useState([])\r\n\r\n    console.log(filters)\r\n\r\n    useEffect(() => {\r\n        console.log(cat)\r\n        const getProducts = async () => {\r\n            try{\r\n                const res = await axios.get(cat ? `http://localhost:5000/api/products?category=${cat}` : `http://localhost:5000/api/products`)\r\n                setProducts(res.data)\r\n                console.log(res.data)\r\n            } catch(err) {\r\n                console.log(err)\r\n            }\r\n\r\n        }\r\n        getProducts()\r\n    }, [cat])\r\n\r\n\r\n    useEffect(() => {\r\n        cat && setFilteredProducts(products.filter((item) => Object.entries(filters).every(([key, value]) => item[key].includes(value))))\r\n        console.log(products)\r\n        console.log(filteredProducts)\r\n    }, [products, cat, filters])\r\n    \r\n\r\n        if (page === \"home\")\r\n        return(\r\n            <ScrollView horizontal showsHorizontalScrollIndicator = {false} style = {{marginLeft: 10}}>\r\n            {popularProducts.map((item) => (\r\n                <Product item={item} key = {item.id}  page = \"home\" navigation = {navigation} />\r\n            ))}\r\n            </ScrollView>   \r\n        )\r\n\r\n        else if (page === \"productList\") {\r\n            return(\r\n            <ScrollView vertical showsVerticalScrollIndicator = {false} style = {{margin: \"auto\", marginTop: 35}}>\r\n                {popularProducts.map((item) => (\r\n                    <Product item={item} key = {item.id} page = \"productList\" navigation = {navigation}/>\r\n                ))}\r\n                </ScrollView>)\r\n        }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}